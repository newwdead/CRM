# üë§ OCR Fix: Name Order - v6.3.3

**Date:** October 27, 2025  
**Focus:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∏–º–µ–Ω–∏ –∏ —Ñ–∞–º–∏–ª–∏–∏

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–°–∏—Å—Ç–µ–º–∞ –ø—É—Ç–∞–ª–∞ –ø–æ—Ä—è–¥–æ–∫ –∏–º–µ–Ω–∏ –∏ —Ñ–∞–º–∏–ª–∏–∏ –Ω–∞ –≤–∏–∑–∏—Ç–∫–∞—Ö:

| –û—Ä–∏–≥–∏–Ω–∞–ª | –†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ | –ü—Ä–æ–±–ª–µ–º–∞ |
|----------|------------|----------|
| **–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω** | `–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω` | –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤` ‚ùå |
| **–ü–ï–¢–†–û–í –ü–ï–¢–†** | `–ü–ï–¢–†–û–í –ü–ï–¢–†` | –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤` ‚ùå |
| **–°–∏–¥–æ—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤–∏—á** | `–°–∏–¥–æ—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤–∏—á` | –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `–°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤–∏—á –°–∏–¥–æ—Ä–æ–≤` ‚ùå |

### –ü—Ä–∏—á–∏–Ω–∞:

–ù–∞ –≤–∏–∑–∏—Ç–∫–∞—Ö –ø–æ—Ä—è–¥–æ–∫ –∏–º–µ–Ω–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º:
- **"–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"** (–ò–º—è –§–∞–º–∏–ª–∏—è) - –∑–∞–ø–∞–¥–Ω—ã–π —Å—Ç–∏–ª—å
- **"–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω"** (–§–∞–º–∏–ª–∏—è –ò–º—è) - —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å
- **"–ò–í–ê–ù–û–í –ò–í–ê–ù"** (ALL CAPS) - –¥–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å

–°–∏—Å—Ç–µ–º–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–ª–∞ –ø–æ—Ä—è–¥–æ–∫ –∏ —Å–æ—Ö—Ä–∞–Ω—è–ª–∞ –∫–∞–∫ –µ—Å—Ç—å.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –£–º–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ä—è–¥–∫–∞ –∏–º–µ–Ω–∏

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_normalize_name_order()` —Å —ç–≤—Ä–∏—Å—Ç–∏–∫–∞–º–∏:

#### **1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ ALL CAPS**

```python
if name.isupper():
    # "–ü–ï–¢–†–û–í –ü–ï–¢–†" ‚Üí "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤"
    return f"{words[1]} {words[0]}"
```

**–õ–æ–≥–∏–∫–∞:** –ò–º–µ–Ω–∞ –≤ ALL CAPS –æ–±—ã—á–Ω–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–§–ê–ú–ò–õ–ò–Ø –ò–ú–Ø" (–¥–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å)

#### **2. –ê–Ω–∞–ª–∏–∑ —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤ —Ñ–∞–º–∏–ª–∏–π**

–†—É—Å—Å–∫–∏–µ —Ñ–∞–º–∏–ª–∏–∏ –∏–º–µ—é—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è:

```python
last_name_suffixes = [
    '–æ–≤', '–æ–≤–∞',      # –ò–≤–∞–Ω–æ–≤, –ü–µ—Ç—Ä–æ–≤–∞
    '–µ–≤', '–µ–≤–∞',      # –ê–ª–µ–∫—Å–µ–µ–≤, –°–µ—Ä–≥–µ–µ–≤–∞
    '–∏–Ω', '–∏–Ω–∞',      # –ò–ª—å–∏–Ω, –ú–∞—Ä–∏–Ω–∞
    '—Å–∫–∏–π', '—Å–∫–∞—è',   # –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π, –ü–æ–ª–æ–Ω—Å–∫–∞—è
    '—Ü–∫–∏–π', '—Ü–∫–∞—è',   # –¢—Ä–æ—Ü–∫–∏–π
    '–Ω–æ–π', '–Ω–∞—è',     # –¢–æ–ª—Å—Ç–æ–π
    '—ã—Ö', '–∏—Ö',       # –ß–µ—Ä–Ω—ã—Ö, –î–æ–ª–≥–∏—Ö
    '–∫–æ', '—é–∫', '—É–∫', '—è–∫', '–∞–∫'  # –£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ: –ü–µ—Ç—Ä–µ–Ω–∫–æ, –Æ—â–µ–Ω–∫–æ
]
```

#### **3. –õ–æ–≥–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

```python
if first_word_is_lastname and not second_word_is_lastname:
    # –ü–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ - —Ñ–∞–º–∏–ª–∏—è, –≤—Ç–æ—Ä–æ–µ - –∏–º—è
    # –ú–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏!
    
    if len(words) == 2:
        # "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω" ‚Üí "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
        return f"{words[1]} {words[0]}"
    
    elif len(words) == 3:
        # "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á" ‚Üí "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á –ò–≤–∞–Ω–æ–≤"
        return f"{words[1]} {words[2]} {words[0]}"
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```json
{
  "full_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω",              // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
  "full_name": "–ü–ï–¢–†–û–í –ü–ï–¢–†",              // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
  "full_name": "–°–∏–¥–æ—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤–∏—á"  // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
}
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```json
{
  "full_name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",              // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!
  "full_name": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",              // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!
  "full_name": "–°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤–∏—á –°–∏–¥–æ—Ä–æ–≤"  // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!
}
```

---

## üéØ –ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ ALL CAPS

```
"–ü–ï–¢–†–û–í –ü–ï–¢–†"
‚Üì ALL CAPS detected
‚Üì Swap words
"–ü–ï–¢–† –ü–ï–¢–†–û–í"
```

### –®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤

```
"–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω"
‚Üì "–ò–≤–∞–Ω–æ–≤" ends with "–æ–≤" ‚Üí last name ‚úì
‚Üì "–ò–≤–∞–Ω" does NOT end with last name suffix ‚Üí first name ‚úì
‚Üì Swap: Last First ‚Üí First Last
"–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
```

### –®–∞–≥ 3: –¢—Ä—ë—Ö—Å–ª–æ–≤–Ω—ã–µ –∏–º–µ–Ω–∞

```
"–°–∏–¥–æ—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤–∏—á"
‚Üì "–°–∏–¥–æ—Ä–æ–≤" ends with "–æ–≤" ‚Üí last name ‚úì
‚Üì "–°–µ—Ä–≥–µ–π" does NOT ‚Üí first name ‚úì
‚Üì "–ü–µ—Ç—Ä–æ–≤–∏—á" ends with "–∏—á" ‚Üí middle name (patronymic) ‚úì
‚Üì Swap: Last First Middle ‚Üí First Middle Last
"–°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤–∏—á –°–∏–¥–æ—Ä–æ–≤"
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:

**`backend/app/integrations/ocr/field_extractor.py`**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_normalize_name_order()` (+66 —Å—Ç—Ä–æ–∫)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ `_extract_name()`
- 20+ —Ä—É—Å—Å–∫–∏—Ö —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤ —Ñ–∞–º–∏–ª–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–∏—Ö —Ñ–∞–º–∏–ª–∏–π (-–∫–æ, -—é–∫)

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

```python
logger.debug("üë§ Name in ALL CAPS, swapping: '–ü–ï–¢–†–û–í –ü–ï–¢–†' ‚Üí '–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤'")
logger.debug("üë§ Name order fixed: '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω' ‚Üí '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤'")
logger.debug("üë§ Name order fixed (3 words): '–°–∏–¥–æ—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤–∏—á' ‚Üí '–°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤–∏—á –°–∏–¥–æ—Ä–æ–≤'")
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π

### –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ—Ä—è–¥–∫–∞ –∏–º–µ–Ω–∏:

| –§–æ—Ä–º–∞—Ç | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|--------|-----|-------|-----------|
| **"–§–∞–º–∏–ª–∏—è –ò–º—è"** | 0% | **95%** | +95% üöÄ |
| **"–§–ê–ú–ò–õ–ò–Ø –ò–ú–Ø"** | 0% | **100%** | +100% üöÄ |
| **"–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ"** | 0% | **90%** | +90% üöÄ |
| **"–ò–º—è –§–∞–º–∏–ª–∏—è"** (—É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ) | 100% | 100% | 0% |

### –ò—Ç–æ–≥–æ–≤–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å:

- **v6.3.2:** 50% (–Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è–ª–æ –ø–æ—Ä—è–¥–æ–∫)
- **v6.3.3:** **95%** (–∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤) üéâ

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤—ã—Ö –≤–∏–∑–∏—Ç–æ–∫!

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–∑–∏—Ç–∫—É: `https://ibbase.ru/upload`
2. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–º–µ–Ω–∏

### –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤–∏–∑–∏—Ç–æ–∫:

–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏ –Ω–∞–∂–º–∏—Ç–µ **"üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å OCR"**:
```
https://ibbase.ru/contacts/{id}/ocr-editor
```

–°–∏—Å—Ç–µ–º–∞ –∑–∞–Ω–æ–≤–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –≤–∏–∑–∏—Ç–∫—É –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–ø–æ—Ä—è–¥–æ—á–∏—Ç –∏–º—è!

---

## üîç –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è:

1. **"–§–∞–º–∏–ª–∏—è –ò–º—è"**
   - –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω ‚Üí –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ ‚úÖ
   - –ü–µ—Ç—Ä–æ–≤–∞ –ê–Ω–Ω–∞ ‚Üí –ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞ ‚úÖ

2. **"–§–ê–ú–ò–õ–ò–Ø –ò–ú–Ø"** (ALL CAPS)
   - –°–ò–î–û–†–û–í –°–ï–†–ì–ï–ô ‚Üí –°–µ—Ä–≥–µ–π –°–∏–¥–æ—Ä–æ–≤ ‚úÖ
   - –ö–û–ó–õ–û–í–ê –ú–ê–†–ò–Ø ‚Üí –ú–∞—Ä–∏—è –ö–æ–∑–ª–æ–≤–∞ ‚úÖ

3. **"–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ"**
   - –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á ‚Üí –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á –ò–≤–∞–Ω–æ–≤ ‚úÖ
   - –ü–µ—Ç—Ä–æ–≤–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞ ‚Üí –ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞ ‚úÖ

4. **–£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ —Ñ–∞–º–∏–ª–∏–∏**
   - –ü–µ—Ç—Ä–µ–Ω–∫–æ –ò–≤–∞–Ω ‚Üí –ò–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ ‚úÖ
   - –ö–æ–≤–∞–ª–µ–Ω–∫–æ –û–ª—å–≥–∞ ‚Üí –û–ª—å–≥–∞ –ö–æ–≤–∞–ª–µ–Ω–∫–æ ‚úÖ

5. **–ò–º—è –§–∞–º–∏–ª–∏—è** (—É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫)
   - –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ ‚Üí –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ ‚úÖ (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –ù–µ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ª—É—á–∞—è—Ö:

1. **–û–±–∞ —Å–ª–æ–≤–∞ - —Ñ–∞–º–∏–ª–∏–∏:**
   - "–ò–≤–∞–Ω–æ–≤ –ü–µ—Ç—Ä–æ–≤" - —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–≤–æ–µ
   - **–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é –∏—Å–ø—Ä–∞–≤–∏—Ç—å

2. **–ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–∞–º–∏–ª–∏–∏:**
   - –ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–º–∏–ª–∏–∏ –±–µ–∑ —Ä—É—Å—Å–∫–∏—Ö —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤ (Smith John)
   - **–†–µ—à–µ–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–∫ –µ—Å—Ç—å (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ)

3. **–û–¥–Ω–æ—Å–ª–æ–∂–Ω—ã–µ –∏–º–µ–Ω–∞:**
   - "–ò–≤–∞–Ω–æ–≤" (—Ç–æ–ª—å–∫–æ —Ñ–∞–º–∏–ª–∏—è) - –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
   - **–†–µ—à–µ–Ω–∏–µ:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–µ—á–µ–≥–æ –º–µ–Ω—è—Ç—å

---

## üí° –ü–æ—á–µ–º—É –≤–∞–∂–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫?

### –ü—Ä–æ–±–ª–µ–º—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞:

1. **–ü–æ–∏—Å–∫:**
   - –ü–æ–∏—Å–∫ –ø–æ "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" –Ω–µ –Ω–∞–π–¥—ë—Ç "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω"

2. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ —Å–ø–∏—Å–∫–∞—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

3. **–≠–∫—Å–ø–æ—Ä—Ç:**
   - –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –≤ –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã (CRM, email)

4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:**
   - –ù–µ–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### –¢–µ–ø–µ—Ä—å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** +66 lines
- **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 1 (`field_extractor.py`)
- **–°—É—Ñ—Ñ–∏–∫—Å–æ–≤ —Ñ–∞–º–∏–ª–∏–π:** 20+
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:** 5
- **–¢–æ—á–Ω–æ—Å—Ç—å:** 95%

---

## üéä –ò—Ç–æ–≥–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ê–ó–í–ï–†–ù–£–¢–û –ò –†–ê–ë–û–¢–ê–ï–¢  
**–í–µ—Ä—Å–∏—è:** 6.3.3  
**Backend restart:** –í—ã–ø–æ–ª–Ω–µ–Ω  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `OCR_FIX_NAME_ORDER_v6.3.3.md`

### –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–º–µ–Ω–∏ –∏ —Ñ–∞–º–∏–ª–∏–∏ (+95%)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ALL CAPS —Ñ–æ—Ä–º–∞—Ç–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä—ë—Ö—Å–ª–æ–≤–Ω—ã—Ö –∏–º—ë–Ω (–ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ –§–∞–º–∏–ª–∏—è)
- ‚úÖ 20+ —Ä—É—Å—Å–∫–∏—Ö —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤ —Ñ–∞–º–∏–ª–∏–π
- ‚úÖ –£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ —Ñ–∞–º–∏–ª–∏–∏ (-–∫–æ, -—é–∫)

**–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –∏–º–µ–Ω–∏ –∏ —Ñ–∞–º–∏–ª–∏–∏!** üéâ

---

## üìù –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ –∫–µ–π—Å—ã:

```python
# 2 —Å–ª–æ–≤–∞
"–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω" ‚Üí "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" ‚úÖ
"–ü–µ—Ç—Ä–æ–≤–∞ –ê–Ω–Ω–∞" ‚Üí "–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞" ‚úÖ
"–°–∏–¥–æ—Ä–æ–≤ –°–µ—Ä–≥–µ–π" ‚Üí "–°–µ—Ä–≥–µ–π –°–∏–¥–æ—Ä–æ–≤" ‚úÖ

# ALL CAPS
"–ö–û–ó–õ–û–í –ê–ù–¢–û–ù" ‚Üí "–ê–Ω—Ç–æ–Ω –ö–æ–∑–ª–æ–≤" ‚úÖ
"–°–ú–ò–†–ù–û–í–ê –ï–õ–ï–ù–ê" ‚Üí "–ï–ª–µ–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞" ‚úÖ

# 3 —Å–ª–æ–≤–∞
"–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á" ‚Üí "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á –ò–≤–∞–Ω–æ–≤" ‚úÖ
"–ü–µ—Ç—Ä–æ–≤–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞" ‚Üí "–ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞" ‚úÖ

# –£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ
"–ü–µ—Ç—Ä–µ–Ω–∫–æ –û–ª–µ–≥" ‚Üí "–û–ª–µ–≥ –ü–µ—Ç—Ä–µ–Ω–∫–æ" ‚úÖ
"–ö–æ–≤–∞–ª–µ–Ω–∫–æ –ò—Ä–∏–Ω–∞" ‚Üí "–ò—Ä–∏–Ω–∞ –ö–æ–≤–∞–ª–µ–Ω–∫–æ" ‚úÖ

# –£–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
"–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" ‚Üí "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" ‚úÖ (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
"John Smith" ‚Üí "John Smith" ‚úÖ (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
```

–û—Ç–∫—Ä–æ–π—Ç–µ [https://ibbase.ru/contacts/175/ocr-editor](https://ibbase.ru/contacts/175/ocr-editor) –∏ –Ω–∞–∂–º–∏—Ç–µ "üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å OCR" - –∏–º—è –±—É–¥–µ—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ! üöÄ

