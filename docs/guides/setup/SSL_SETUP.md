# SSL –ù–∞—Å—Ç—Ä–æ–π–∫–∞ / SSL Setup

## üîí –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

–î–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –±—ã–ª —Å–æ–∑–¥–∞–Ω —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è HTTPS –¥–æ—Å—Ç—É–ø–∞ –∏ Telegram webhook.

### üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ

- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `/etc/nginx/certs/`
- **–§–∞–π–ª—ã**:
  - `selfsigned.crt` - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á)
  - `selfsigned.key` - –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
- **CN (Common Name)**: localhost
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è**: BizCard CRM
- **–°—Ç—Ä–∞–Ω–∞**: RU
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**: 365 –¥–Ω–µ–π (–¥–æ 19 –æ–∫—Ç—è–±—Ä—è 2026)

### üåê –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

#### HTTP (–Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω—ã–π)
```
http://localhost:3000
```

#### HTTPS (–∑–∞—â–∏—â–µ–Ω–Ω—ã–π, —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π)
```
https://localhost:8443
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ù–∞–∂–º–∏—Ç–µ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ" ‚Üí "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç".

### üì± Telegram Webhook

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram webhook –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS URL:
```
https://your-domain.com:8443/telegram/webhook
```

–ó–∞–º–µ–Ω–∏—Ç–µ `your-domain.com` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω –∏–ª–∏ IP –∞–¥—Ä–µ—Å.

### üîÑ –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –¥—Ä—É–≥–∏–º CN):

```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
sudo rm /etc/nginx/certs/selfsigned.*

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ (–∑–∞–º–µ–Ω–∏—Ç–µ localhost –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω)
sudo openssl req -x509 -newkey rsa:4096 -nodes \
  -keyout /etc/nginx/certs/selfsigned.key \
  -out /etc/nginx/certs/selfsigned.crt \
  -days 365 \
  -subj "/CN=your-domain.com/O=BizCard CRM/C=RU"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å frontend
docker compose restart frontend
```

### üè¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (Production)

–î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ certbot:
```bash
sudo apt install certbot python3-certbot-nginx
```

2. –ü–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
```bash
sudo certbot certonly --standalone -d your-domain.com
```

3. –û–±–Ω–æ–≤–∏—Ç–µ `docker-compose.yml`:
```yaml
frontend:
  volumes:
    - /etc/letsencrypt/live/your-domain.com:/etc/nginx/certs:ro
```

4. –û–±–Ω–æ–≤–∏—Ç–µ `frontend/nginx.conf`:
```nginx
ssl_certificate     /etc/nginx/certs/fullchain.pem;
ssl_certificate_key /etc/nginx/certs/privkey.pem;
```

### üõ†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
openssl x509 -in /etc/nginx/certs/selfsigned.crt -noout -text

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
openssl s_client -connect localhost:8443 -showcerts
```

### üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç **–ù–ï** –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ production —Å–µ—Ä–≤–µ—Ä–∞
- –ë—Ä–∞—É–∑–µ—Ä—ã –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏
- –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ CA (Let's Encrypt, Comodo, etc.)
- Telegram Bot API —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∏–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è webhook –≤ production

