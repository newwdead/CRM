# ========================================
# BizCard CRM - Environment Variables
# ========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to git!

# ========================================
# DATABASE CONFIGURATION
# ========================================
DATABASE_URL=postgresql://postgres:YOUR_SECURE_PASSWORD@db:5432/bizcard_crm
POSTGRES_DB=bizcard_crm
POSTGRES_USER=postgres
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD

# ========================================
# REDIS CONFIGURATION
# ========================================
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1

# ========================================
# SECURITY & AUTHENTICATION
# ========================================
# Generate strong secret key:
# python3 -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_THIS_TO_RANDOM_STRING_MIN_32_CHARS
JWT_SECRET_KEY=${SECRET_KEY}
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# ========================================
# APPLICATION SETTINGS
# ========================================
APP_VERSION=v3.4.0
APP_MESSAGE=BizCard CRM - Production
SERVER_HOST=yourdomain.com
DOMAIN=yourdomain.com
USE_HTTPS=true
TZ=Europe/Berlin

# ========================================
# OCR PROVIDERS
# ========================================
# Tesseract (local, free)
TESSERACT_LANGS=rus+eng

# Google Vision API (cloud, paid)
GOOGLE_VISION_API_KEY=YOUR_GOOGLE_API_KEY_OR_LEAVE_EMPTY

# Parsio API (cloud, paid)
PARSIO_API_URL=https://api.parsio.io
PARSIO_API_KEY=YOUR_PARSIO_KEY_OR_LEAVE_EMPTY
PARSIO_AUTH_HEADER_NAME=Authorization
PARSIO_AUTH_HEADER_VALUE=Bearer {key}
PARSIO_TIMEOUT=30

# ========================================
# TELEGRAM INTEGRATION
# ========================================
# Get token from @BotFather
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_FROM_BOTFATHER
TELEGRAM_WEBHOOK_URL=https://yourdomain.com/telegram/webhook
TELEGRAM_ENABLED=true

# ========================================
# WHATSAPP INTEGRATION (Meta/Facebook)
# ========================================
WHATSAPP_API_URL=https://graph.facebook.com/v18.0
WHATSAPP_PHONE_ID=YOUR_PHONE_ID
WHATSAPP_ACCESS_TOKEN=YOUR_META_ACCESS_TOKEN
WHATSAPP_VERIFY_TOKEN=YOUR_RANDOM_VERIFY_TOKEN

# ========================================
# LABEL STUDIO (OCR Training)
# ========================================
LABEL_STUDIO_HOST=http://localhost:8081
LABEL_STUDIO_USERNAME=admin@yourdomain.com
LABEL_STUDIO_PASSWORD=YOUR_SECURE_PASSWORD
LABEL_STUDIO_TOKEN=YOUR_API_TOKEN
LABEL_STUDIO_LOCAL_FILES_SERVING_ENABLED=true
LABEL_STUDIO_LOCAL_FILES_DOCUMENT_ROOT=/label-studio/files

# ========================================
# ADMIN SETTINGS
# ========================================
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=YOUR_SECURE_PASSWORD
DEFAULT_ADMIN_EMAIL=admin@yourdomain.com

# ========================================
# MONITORING (Optional)
# ========================================
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
GRAFANA_ADMIN_PASSWORD=YOUR_SECURE_PASSWORD

# ========================================
# DEVELOPMENT/DEBUG (Set to false in production!)
# ========================================
DEBUG=false
RELOAD=false
LOG_LEVEL=INFO

# ========================================
# CORS (Comma-separated domains)
# ========================================
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_LOGIN=30/minute
RATE_LIMIT_REGISTER=10/hour
RATE_LIMIT_UPLOAD=60/minute
RATE_LIMIT_API=100/minute

# ========================================
# FILE UPLOAD LIMITS
# ========================================
MAX_UPLOAD_SIZE_MB=20
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf
