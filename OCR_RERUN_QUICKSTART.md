# ‚ö° –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ OCR - –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
**–ö–æ–Ω—Ç–∞–∫—Ç 112:** –†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ 1 –±–ª–æ–∫ –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å admin token

–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ localStorage:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12):
localStorage.getItem('token')
```

### –®–∞–≥ 2: –í—ã–∑–≤–∞—Ç—å API

```bash
TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å"

curl -X POST "https://ibbase.ru/api/contacts/112/rerun-ocr" \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json"
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä:
```
https://ibbase.ru/contacts/112/ocr-editor
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:** 11 –±–ª–æ–∫–æ–≤ –≤–º–µ—Å—Ç–æ 1

## üìä –ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è

| –î–æ | –ü–æ—Å–ª–µ |
|----|-------|
| 0-1 –±–ª–æ–∫ | 11 –±–ª–æ–∫–æ–≤ |
| Tesseract | PaddleOCR v2.0 |
| –ù–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç | –ï—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã |
| –ù–µ—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–æ–≤
curl -s "https://ibbase.ru/api/ocr-blocks/112" | jq '.lines | length'
# –û–∂–∏–¥–∞–µ—Ç—Å—è: 11
```

## üöÄ Endpoint

```
POST /api/contacts/{contact_id}/rerun-ocr
Authorization: Bearer {admin_token}
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- ‚úÖ Admin –ø—Ä–∞–≤–∞
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ OCR v2.0 –¥–æ—Å—Ç—É–ø–µ–Ω

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ –±–ª–æ–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –ü–æ–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±–ª–æ–∫–æ–≤ –≤ –ë–î

## ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- OCR v2.0: 3-5 —Å–µ–∫—É–Ω–¥
- OCR v1.0 (fallback): 1-2 —Å–µ–∫—É–Ω–¥—ã

---

**–í–µ—Ä—Å–∏—è:** v6.1.2  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û  
**Push:** –í—ã–ø–æ–ª–Ω–µ–Ω

