╔══════════════════════════════════════════════════════════════════════╗
║                                                                      ║
║   ✅ GRAFANA DASHBOARDS - ГОТОВЫ!                                   ║
║                                                                      ║
╚══════════════════════════════════════════════════════════════════════╝

═══════════════════════════════════════════════════════════════════════
✅ 4 DASHBOARDS ИМПОРТИРОВАНЫ
═══════════════════════════════════════════════════════════════════════

1. ✅ System Overview - Server Metrics (10 панелей)
   UID: system-overview
   
   Метрики:
   • CPU Usage %
   • Memory Usage
   • Disk Usage (по mount points)
   • Network Traffic (RX/TX)
   • System Load (1m, 5m, 15m)
   • Disk I/O
   • System Stats

2. ✅ Docker Containers Monitoring (11 панелей)
   UID: docker-containers
   
   Метрики:
   • Container CPU Usage (per container)
   • Container Memory Usage (per container)
   • Container Network (RX/TX per container)
   • Container Disk (Read/Write per container)
   • Running Containers count
   • Container Status Table

3. ✅ Database Monitoring - PostgreSQL & Redis (14 панелей)
   UID: database-monitoring
   
   PostgreSQL:
   • Database Size
   • Active Connections
   • Transactions Per Second
   • Cache Hit Ratio
   • Deadlocks
   
   Redis:
   • Connected Clients
   • Memory Usage
   • Commands Per Second
   • Hit Rate
   • Keys Count

4. ✅ Application Monitoring - FastAPI & Celery (14 панелей)
   UID: application-monitoring
   
   Метрики:
   • HTTP Requests Per Second
   • HTTP Response Time (p95)
   • HTTP Status Codes
   • Error Rate %
   • Active Users
   • OCR Processing
   • Celery Tasks
   • Contact Operations

═══════════════════════════════════════════════════════════════════════
📊 ДАННЫЕ СОБИРАЮТСЯ
═══════════════════════════════════════════════════════════════════════

Prometheus Targets:
  ✅ node-exporter    (Server metrics)
  ✅ cadvisor         (Docker containers)
  ✅ postgres         (PostgreSQL)
  ✅ redis            (Redis)
  ✅ fastapi-backend  (Application)
  ✅ prometheus       (Self-monitoring)

Метрики работают:
  ✅ System Load: 1.03
  ✅ Containers: 74 metrics
  ✅ Alert Rules: 19 активны

═══════════════════════════════════════════════════════════════════════
🚀 КАК ОТКРЫТЬ DASHBOARDS
═══════════════════════════════════════════════════════════════════════

ШАГ 1: Откройте Grafana
   https://monitoring.ibbase.ru

ШАГ 2: Войдите
   Username: admin
   Password: admin

ШАГ 3: Перейдите к Dashboards
   Способ А: Нажмите на иконку "Dashboards" (4 квадрата) слева
   
   Способ Б: В URL добавьте /dashboards
   https://monitoring.ibbase.ru/dashboards

ШАГ 4: Выберите Dashboard
   Вы увидите список из 4 dashboards:
   
   📊 1. System Overview - Server Metrics
   📊 2. Docker Containers Monitoring
   📊 3. Database Monitoring - PostgreSQL & Redis
   📊 4. Application Monitoring - FastAPI & Celery

ШАГ 5: Начните мониторить!
   • Каждый dashboard обновляется каждые 30 секунд
   • Выберите временной диапазон (Last 1h, 6h, 24h, etc.)
   • Zoom in/out на графиках
   • Hover для подробных значений

═══════════════════════════════════════════════════════════════════════
📈 ЧТО ВЫ УВИДИТЕ
═══════════════════════════════════════════════════════════════════════

Dashboard 1: System Overview
   График CPU (синий)
   График Memory (зеленый/красный)
   График Disk по каждому разделу
   График Network (входящий/исходящий трафик)
   Load Average (1m, 5m, 15m)
   Stats: Uptime, CPU Cores, Total RAM, Total Disk

Dashboard 2: Docker Containers
   График CPU по каждому контейнеру
   График Memory по каждому контейнеру
   График Network RX/TX
   Таблица со статусом контейнеров
   Общая статистика

Dashboard 3: Database
   PostgreSQL:
   - Database size растет
   - Connections count
   - Transactions graph
   - Cache hit ratio (должен быть >90%)
   
   Redis:
   - Memory usage
   - Commands per second
   - Hit rate %

Dashboard 4: Application
   HTTP Requests (real-time)
   Response time (p95)
   Error rate % (должен быть низким)
   Status codes breakdown

═══════════════════════════════════════════════════════════════════════
🚨 ALERTS РАБОТАЮТ
═══════════════════════════════════════════════════════════════════════

19 Alert Rules активны в Prometheus:

Проверить alerts:
   http://localhost:9090/alerts

Когда сработают:
   🟡 Warning:  CPU >80%, Memory >85%, Disk >80%
   🔴 Critical: Memory >95%, Disk >90%, DB Down

═══════════════════════════════════════════════════════════════════════
🔧 ПОЛЕЗНЫЕ ССЫЛКИ
═══════════════════════════════════════════════════════════════════════

Grafana:
   Main:       https://monitoring.ibbase.ru
   Dashboards: https://monitoring.ibbase.ru/dashboards
   Explore:    https://monitoring.ibbase.ru/explore

Prometheus:
   Main:    http://localhost:9090
   Targets: http://localhost:9090/targets
   Alerts:  http://localhost:9090/alerts
   Rules:   http://localhost:9090/rules

Direct Exporters:
   Node Exporter:     http://localhost:9100/metrics
   cAdvisor:          http://localhost:8080
   Postgres Exporter: http://localhost:9187/metrics
   Redis Exporter:    http://localhost:9121/metrics

═══════════════════════════════════════════════════════════════════════
💡 СОВЕТЫ
═══════════════════════════════════════════════════════════════════════

1. Измените временной диапазон:
   В правом верхнем углу: "Last 6 hours" → выберите нужный

2. Создайте Star для важных dashboards:
   Нажмите звездочку рядом с названием

3. Share dashboard:
   Кнопка "Share" → Link → Copy

4. Настройте уведомления:
   Settings → Notification channels → Add channel

5. Первый раз может быть мало данных:
   Подождите 5-10 минут для накопления метрик

═══════════════════════════════════════════════════════════════════════
✅ ИТОГ
═══════════════════════════════════════════════════════════════════════

Статус:
  ✅ Grafana работает
  ✅ 4 Dashboards импортированы
  ✅ Данные собираются (6 targets up)
  ✅ 19 Alert rules активны
  ✅ 49+ панелей визуализации

ОТКРОЙТЕ СЕЙЧАС:

   👉 https://monitoring.ibbase.ru 👈
   
   Login: admin / admin

Все работает! Начните мониторить! 📊

═══════════════════════════════════════════════════════════════════════

На русском! 🇷🇺
Dashboards Ready! 📊
Happy Monitoring! 🎯

═══════════════════════════════════════════════════════════════════════
