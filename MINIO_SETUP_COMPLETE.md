# ‚úÖ MinIO Setup Complete

**Date:** October 27, 2025  
**Version:** 6.0.0 (OCR v2.0)  
**URL:** https://ibbase.ru/minio/

---

## üéØ Status: WORKING ‚úÖ

MinIO Console —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ reverse proxy!

### üîê –î–æ—Å—Ç—É–ø
- **URL:** https://ibbase.ru/minio/
- **Username:** `admin`
- **Password:** `minio123456`

---

## üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –±–∞–∫–µ—Ç—ã –¥–ª—è OCR v2.0

| –ë–∞–∫–µ—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü–æ–ª–∏—Ç–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞ |
|-------|------------|------------------|
| `business-cards` | üì∏ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∏–∑–∏—Ç–æ–∫ | Public Download |
| `ocr-results` | üìù –†–µ–∑—É–ª—å—Ç–∞—Ç—ã OCR –æ–±—Ä–∞–±–æ—Ç–∫–∏ | Private |
| `training-data` | üéì –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π | Private |
| `models` | ü§ñ –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ ML –º–æ–¥–µ–ª–∏ | Private |

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –°–ø–∏—Å–æ–∫ –±–∞–∫–µ—Ç–æ–≤
$ docker exec bizcard-minio mc ls local/
[2025-10-27 07:16:39 UTC]     0B business-cards/     ‚úÖ
[2025-10-27 07:16:45 UTC]     0B models/             ‚úÖ
[2025-10-27 07:16:45 UTC]     0B ocr-results/        ‚úÖ
[2025-10-27 07:16:45 UTC]     0B training-data/      ‚úÖ
```

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Backend

MinIO –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ OCR v2.0 —Å–∏—Å—Ç–µ–º–µ!

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í `.env` —Ñ–∞–π–ª–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
```bash
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=minio123456
```

### Python –∫–ª–∏–µ–Ω—Ç
Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `MinIOClient` –∏–∑ `backend/app/integrations/minio/client.py`:

```python
from app.integrations.minio import MinIOClient, BUCKET_NAMES

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
minio_client = MinIOClient()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞–∫–µ—Ç–æ–≤
minio_client.save_image(
    bucket_name=BUCKET_NAMES['images'],  # 'business-cards'
    object_name='card_123.jpg',
    data=image_bytes
)
```

---

## üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MinIO Console

### 1. –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- –û—Ç–∫—Ä–æ–π—Ç–µ https://ibbase.ru/minio/
- –í–≤–µ–¥–∏—Ç–µ: `admin` / `minio123456`

### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–∫–µ—Ç–æ–≤
- –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ "Buckets"
- –í—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ 4 –±–∞–∫–µ—Ç–∞

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –±–∞–∫–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `business-cards`)
- –ù–∞–∂–º–∏—Ç–µ "Upload" ‚Üí "Upload File"
- –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 4. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤
- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "Preview" –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### 5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º
- Settings ‚Üí Access Policy
- –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π/–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø

---

## üîÑ Workflow OCR v2.0 —Å MinIO

```
1. –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–∑–∏—Ç–∫–∏ —á–µ—Ä–µ–∑ Frontend
   ‚Üì
2. Backend —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ MinIO
   ‚Üí –ë–∞–∫–µ—Ç: business-cards
   ‚Üí –ü—É—Ç—å: /card_{id}_{timestamp}.jpg
   ‚Üì
3. OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ (PaddleOCR + LayoutLMv3)
   ‚Üì
4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ MinIO
   ‚Üí –ë–∞–∫–µ—Ç: ocr-results
   ‚Üí –ü—É—Ç—å: /result_{card_id}.json
   ‚Üì
5. –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –≤ Label Studio (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   ‚Üì
6. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
   ‚Üí –ë–∞–∫–µ—Ç: training-data (–¥–∞—Ç–∞—Å–µ—Ç—ã)
   ‚Üí –ë–∞–∫–µ—Ç: models (–æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏)
```

---

## üé® MinIO Console Features

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∫–µ—Ç–∞–º–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ —Ñ–∞–π–ª–∞–º
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Monitoring:
- Dashboard ‚Üí Object Browser
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–º–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤
- –ò—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ß–µ—Ä–µ–∑ Docker (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
```bash
# –°–ø–∏—Å–æ–∫ –±–∞–∫–µ—Ç–æ–≤
docker exec bizcard-minio mc ls local/

# –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –±–∞–∫–µ—Ç–µ
docker exec bizcard-minio mc ls local/business-cards/

# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
docker exec bizcard-minio mc cp /path/to/file.jpg local/business-cards/

# –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª
docker exec bizcard-minio mc cp local/business-cards/file.jpg /tmp/

# –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª
docker exec bizcard-minio mc rm local/business-cards/file.jpg

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∫–µ—Ç–∞
docker exec bizcard-minio mc du local/business-cards/
```

### –ß–µ—Ä–µ–∑ Python Backend
```python
from app.services.storage_service import StorageService

storage = StorageService()

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–∏–∑–∏—Ç–∫–∏
storage.save_card_image(
    card_id=123,
    image_data=image_bytes,
    filename='card.jpg'
)

# –ü–æ–ª—É—á–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
image_url = storage.get_card_image_url(card_id=123)

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å OCR —Ä–µ–∑—É–ª—å—Ç–∞—Ç
storage.save_ocr_result(
    card_id=123,
    result_data=ocr_json
)

# –ü–æ–ª—É—á–∏—Ç—å OCR —Ä–µ–∑—É–ª—å—Ç–∞—Ç
ocr_data = storage.get_ocr_result(card_id=123)
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- ‚úÖ MinIO —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ localhost (127.0.0.1)
- ‚úÖ –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Nginx reverse proxy
- ‚úÖ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –ª–æ–≥–∏–Ω—É/–ø–∞—Ä–æ–ª—é
- ‚ö†Ô∏è –ü–∞—Ä–æ–ª—å –≤ `.env` —Ñ–∞–π–ª–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker secrets)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
   ```bash
   # –í .env —Ñ–∞–π–ª–µ –∏–∑–º–µ–Ω–∏—Ç–µ:
   MINIO_ROOT_PASSWORD=your_strong_password_here
   # –ó–∞—Ç–µ–º –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
   docker compose up -d minio
   ```

2. **–°–æ–∑–¥–∞—Ç—å Access Keys –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:**
   - MinIO Console ‚Üí Identity ‚Üí Service Accounts
   - –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π Access Key –¥–ª—è backend
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤–º–µ—Å—Ç–æ root credentials

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å lifecycle –ø–æ–ª–∏—Ç–∏–∫–∏:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
   - –ü–µ—Ä–µ—Ö–æ–¥ –≤ –∞—Ä—Ö–∏–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ß–µ—Ä–µ–∑ MinIO Console:
- Dashboard ‚Üí Metrics
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

### –ß–µ—Ä–µ–∑ Prometheus (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω):
MinIO –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ `/minio/v2/metrics/cluster`

---

## üéâ –ò—Ç–æ–≥–æ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | URL |
|-----------|--------|-----|
| MinIO API | ‚úÖ Running | http://localhost:9000 |
| MinIO Console | ‚úÖ Running | https://ibbase.ru/minio/ |
| –ë–∞–∫–µ—Ç—ã | ‚úÖ Created | 4 –±–∞–∫–µ—Ç–∞ |
| Backend Integration | ‚úÖ Ready | MinIOClient |

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ OCR v2.0!** üöÄ

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ MinIO –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚è≥ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Label Studio:** https://ibbase.ru/label-studio/
3. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –≤–∏–∑–∏—Ç–∫–∏ —á–µ—Ä–µ–∑ UI
4. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ MinIO
5. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å OCR –æ–±—Ä–∞–±–æ—Ç–∫—É —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –ø–æ–ª–Ω–æ–≥–æ workflow!** üéä


